{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Ionicons } from '@expo/vector-icons';\nimport * as Location from 'expo-location';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useTheme } from \"../contexts/ThemeContext\";\nimport { useLanguage } from \"../contexts/LanguageContext\";\nimport earthquakeService from \"../services/earthquakeService\";\nimport Header from \"../components/Header\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MapContainer, TileLayer, Marker, Popup, L;\nif (Platform.OS === 'web') {\n  var leaflet = require('react-leaflet');\n  MapContainer = leaflet.MapContainer;\n  TileLayer = leaflet.TileLayer;\n  Marker = leaflet.Marker;\n  Popup = leaflet.Popup;\n  L = require('leaflet');\n  if (typeof document !== 'undefined') {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.css';\n    document.head.appendChild(link);\n  }\n  if (L && L.Icon && L.Icon.Default) {\n    delete L.Icon.Default.prototype._getIconUrl;\n    L.Icon.Default.mergeOptions({\n      iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n      iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n      shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n    });\n  }\n}\nvar MapScreen = function MapScreen() {\n  var _useLanguage = useLanguage(),\n    t = _useLanguage.t;\n  var _useTheme = useTheme(),\n    theme = _useTheme.theme;\n  var insets = useSafeAreaInsets();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userLocation = _useState2[0],\n    setUserLocation = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    earthquakes = _useState4[0],\n    setEarthquakes = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState([39.9334, 32.8597]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    mapCenter = _useState8[0],\n    setMapCenter = _useState8[1];\n  var _useState9 = useState(null),\n    _useState0 = _slicedToArray(_useState9, 2),\n    lastUpdateTime = _useState0[0],\n    setLastUpdateTime = _useState0[1];\n  var requestLocationPermission = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n          status = _yield$Location$reque.status;\n        if (status !== 'granted') {\n          Alert.alert('Konum İzni', 'Harita özelliklerini kullanabilmek için konum iznine ihtiyacımız var.');\n          return false;\n        }\n        return true;\n      } catch (error) {\n        console.error('Konum izni hatası:', error);\n        return false;\n      }\n    });\n    return function requestLocationPermission() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var getUserLocation = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var hasPermission = yield requestLocationPermission();\n        if (!hasPermission) return;\n        var location = yield Location.getCurrentPositionAsync({\n          accuracy: Location.Accuracy.High\n        });\n        var userCoords = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude\n        };\n        setUserLocation(userCoords);\n        setMapCenter([userCoords.latitude, userCoords.longitude]);\n      } catch (error) {\n        console.error('Konum alma hatası:', error);\n        Alert.alert('Hata', 'Konum alınamadı. Lütfen tekrar deneyin.');\n      }\n    });\n    return function getUserLocation() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var fetchEarthquakes = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var data = yield earthquakeService.getLatestEarthquakes();\n        setEarthquakes(data);\n        setLastUpdateTime(new Date());\n        console.log(`Deprem verileri güncellendi: ${data.length} deprem bulundu`);\n      } catch (error) {\n        console.error('Deprem verileri alınamadı:', error);\n        var mockData = [{\n          id: '1',\n          magnitude: 4.2,\n          location: 'İstanbul',\n          latitude: 41.0082,\n          longitude: 28.9784,\n          depth: 10,\n          time: new Date().toISOString(),\n          color: '#FFCC00'\n        }, {\n          id: '2',\n          magnitude: 3.1,\n          location: 'Ankara',\n          latitude: 39.9334,\n          longitude: 32.8597,\n          depth: 15,\n          time: new Date().toISOString(),\n          color: '#34C759'\n        }];\n        setEarthquakes(mockData);\n        setLastUpdateTime(new Date());\n        Alert.alert('Bilgi', 'Deprem verileri yüklenemedi, örnek veriler gösteriliyor.');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function fetchEarthquakes() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var showEarthquakeDetails = function showEarthquakeDetails(earthquake) {\n    var _earthquake$latitude, _earthquake$longitude;\n    var formatTime = function formatTime(time) {\n      return new Date(time).toLocaleString('tr-TR', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n    };\n    var detailMessage = `Konum: ${earthquake.location || earthquake.region || 'Bilinmiyor'}\\n`;\n    detailMessage += `Büyüklük: ${earthquake.magnitude}\\n`;\n    detailMessage += `Derinlik: ${earthquake.depth} km\\n`;\n    detailMessage += `Zaman: ${formatTime(earthquake.time)}\\n`;\n    if (earthquake.source) {\n      detailMessage += `Kaynak: ${earthquake.source}\\n`;\n    }\n    if (earthquake.type) {\n      detailMessage += `Tip: ${earthquake.type}\\n`;\n    }\n    if (earthquake.quality) {\n      detailMessage += `Kalite: ${earthquake.quality}\\n`;\n    }\n    if (earthquake.severity) {\n      detailMessage += `Şiddet: ${earthquake.severity}\\n`;\n    }\n    detailMessage += `Koordinatlar: ${(_earthquake$latitude = earthquake.latitude) == null ? void 0 : _earthquake$latitude.toFixed(4)}, ${(_earthquake$longitude = earthquake.longitude) == null ? void 0 : _earthquake$longitude.toFixed(4)}`;\n    Alert.alert(`Deprem Detayları - M${earthquake.magnitude}`, detailMessage, [{\n      text: 'Tamam',\n      style: 'default'\n    }, {\n      text: 'Konuma Git',\n      onPress: function onPress() {\n        return setMapCenter([earthquake.latitude, earthquake.longitude]);\n      }\n    }]);\n  };\n  var centerOnUser = function centerOnUser() {\n    if (userLocation) {\n      setMapCenter([userLocation.latitude, userLocation.longitude]);\n    } else {\n      getUserLocation();\n    }\n  };\n  useEffect(function () {\n    getUserLocation();\n    fetchEarthquakes();\n    var interval = setInterval(function () {\n      console.log('Otomatik veri güncelleme başlatılıyor...');\n      fetchEarthquakes();\n    }, 30000);\n    return function () {\n      console.log('Otomatik güncelleme temizleniyor...');\n      clearInterval(interval);\n    };\n  }, []);\n  var getMarkerSize = function getMarkerSize(magnitude) {\n    if (magnitude < 3) return 20;\n    if (magnitude < 4) return 25;\n    if (magnitude < 5) return 30;\n    if (magnitude < 6) return 35;\n    return 40;\n  };\n  var getMarkerColor = function getMarkerColor(magnitude) {\n    if (magnitude < 3) return '#34C759';\n    if (magnitude < 4) return '#FFCC00';\n    if (magnitude < 5) return '#FF9500';\n    if (magnitude < 6) return '#FF3B30';\n    return '#8E4EC6';\n  };\n  var getEarthquakeColor = function getEarthquakeColor(magnitude) {\n    return getMarkerColor(magnitude);\n  };\n  var createEarthquakeIcon = function createEarthquakeIcon(earthquake) {\n    var size = getMarkerSize(earthquake.magnitude);\n    var color = earthquake.color || getMarkerColor(earthquake.magnitude);\n    return L.divIcon({\n      html: `<div style=\"\n        width: ${size}px;\n        height: ${size}px;\n        background-color: ${color};\n        border: 2px solid white;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: ${size * 0.4}px;\n        font-weight: bold;\n        color: white;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n      \">${earthquake.magnitude}</div>`,\n      className: 'earthquake-marker',\n      iconSize: [size, size],\n      iconAnchor: [size / 2, size / 2]\n    });\n  };\n  return _jsxs(View, {\n    style: [styles.container, {\n      backgroundColor: theme.colors.background,\n      paddingTop: insets.top\n    }],\n    children: [_jsx(Header, {\n      title: \"Deprem Haritas\\u0131\",\n      customRightComponent: _jsxs(View, {\n        style: styles.headerRight,\n        children: [lastUpdateTime && _jsx(Text, {\n          style: [styles.updateTimeText, {\n            color: theme.colors.secondaryText\n          }],\n          children: lastUpdateTime.toLocaleTimeString('tr-TR', {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: fetchEarthquakes,\n          style: styles.refreshButton,\n          children: _jsx(Ionicons, {\n            name: \"refresh\",\n            size: 24,\n            color: theme.colors.icon\n          })\n        })]\n      })\n    }), _jsx(View, {\n      style: styles.mapContainer,\n      children: Platform.OS === 'web' ? _jsxs(MapContainer, {\n        center: mapCenter,\n        zoom: 7,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        children: [_jsx(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n        }), userLocation && _jsx(Marker, {\n          position: [userLocation.latitude, userLocation.longitude],\n          icon: L.icon({\n            iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n            iconSize: [25, 41],\n            iconAnchor: [12, 41]\n          }),\n          children: _jsx(Popup, {\n            children: \"Konumunuz\"\n          })\n        }), earthquakes.map(function (earthquake) {\n          var _earthquake$latitude2, _earthquake$longitude2;\n          return _jsx(Marker, {\n            position: [earthquake.latitude, earthquake.longitude],\n            icon: createEarthquakeIcon(earthquake),\n            eventHandlers: {\n              click: function click() {\n                return showEarthquakeDetails(earthquake);\n              }\n            },\n            children: _jsx(Popup, {\n              children: _jsxs(\"div\", {\n                style: {\n                  minWidth: '250px',\n                  fontSize: '14px'\n                },\n                children: [_jsxs(\"div\", {\n                  style: {\n                    fontWeight: 'bold',\n                    fontSize: '16px',\n                    marginBottom: '8px',\n                    color: '#d32f2f'\n                  },\n                  children: [\"M\", earthquake.magnitude, \" Deprem\"]\n                }), _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Konum:\"\n                  }), \" \", earthquake.location || earthquake.region || 'Bilinmiyor']\n                }), _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Derinlik:\"\n                  }), \" \", earthquake.depth, \" km\"]\n                }), _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Zaman:\"\n                  }), \" \", new Date(earthquake.time).toLocaleString('tr-TR', {\n                    year: 'numeric',\n                    month: '2-digit',\n                    day: '2-digit',\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                  })]\n                }), earthquake.source && _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Kaynak:\"\n                  }), \" \", earthquake.source]\n                }), earthquake.type && _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Tip:\"\n                  }), \" \", earthquake.type]\n                }), earthquake.quality && _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Kalite:\"\n                  }), \" \", earthquake.quality]\n                }), earthquake.severity && _jsxs(\"div\", {\n                  style: {\n                    marginBottom: '4px'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"\\u015Eiddet:\"\n                  }), \" \", earthquake.severity]\n                }), _jsxs(\"div\", {\n                  style: {\n                    marginTop: '8px',\n                    fontSize: '12px',\n                    color: '#666'\n                  },\n                  children: [_jsx(\"strong\", {\n                    children: \"Koordinatlar:\"\n                  }), \" \", (_earthquake$latitude2 = earthquake.latitude) == null ? void 0 : _earthquake$latitude2.toFixed(4), \", \", (_earthquake$longitude2 = earthquake.longitude) == null ? void 0 : _earthquake$longitude2.toFixed(4)]\n                })]\n              })\n            })\n          }, earthquake.id);\n        })]\n      }, `${mapCenter[0]}-${mapCenter[1]}`) : _jsxs(View, {\n        style: styles.mobileMapContainer,\n        children: [_jsxs(View, {\n          style: [styles.mobileHeader, {\n            backgroundColor: theme.colors.surface\n          }],\n          children: [_jsxs(Text, {\n            style: [styles.mobileHeaderText, {\n              color: theme.colors.text\n            }],\n            children: [\"Yak\\u0131n Depremler (\", earthquakes.length, \")\"]\n          }), _jsx(Text, {\n            style: [styles.mobileSubText, {\n              color: theme.colors.text\n            }],\n            children: \"Deprem konumlar\\u0131 listesi\"\n          })]\n        }), _jsx(View, {\n          style: styles.earthquakeList,\n          children: earthquakes.slice(0, 10).map(function (earthquake) {\n            return _jsxs(TouchableOpacity, {\n              style: [styles.earthquakeItem, {\n                backgroundColor: theme.colors.background\n              }],\n              onPress: function onPress() {\n                return showEarthquakeDetails(earthquake);\n              },\n              children: [_jsx(View, {\n                style: [styles.magnitudeIndicator, {\n                  backgroundColor: getEarthquakeColor(earthquake.magnitude)\n                }],\n                children: _jsx(Text, {\n                  style: styles.magnitudeText,\n                  children: earthquake.magnitude\n                })\n              }), _jsxs(View, {\n                style: styles.earthquakeInfo,\n                children: [_jsx(Text, {\n                  style: [styles.earthquakeLocation, {\n                    color: theme.colors.text\n                  }],\n                  numberOfLines: 1,\n                  children: earthquake.location || earthquake.region || 'Bilinmiyor'\n                }), _jsx(Text, {\n                  style: [styles.earthquakeTime, {\n                    color: theme.colors.text\n                  }],\n                  children: new Date(earthquake.time).toLocaleString('tr-TR', {\n                    year: 'numeric',\n                    month: '2-digit',\n                    day: '2-digit',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }), _jsxs(Text, {\n                  style: [styles.earthquakeDepth, {\n                    color: theme.colors.text\n                  }],\n                  children: [\"Derinlik: \", earthquake.depth, \" km \", earthquake.source ? `• ${earthquake.source}` : '']\n                })]\n              }), _jsx(Ionicons, {\n                name: \"chevron-forward\",\n                size: 20,\n                color: theme.colors.text\n              })]\n            }, earthquake.id);\n          })\n        })]\n      })\n    }), _jsx(View, {\n      style: styles.controls,\n      children: _jsx(TouchableOpacity, {\n        style: [styles.controlButton, {\n          backgroundColor: theme.colors.primary\n        }],\n        onPress: centerOnUser,\n        children: _jsx(Ionicons, {\n          name: \"locate\",\n          size: 24,\n          color: theme.colors.onPrimary\n        })\n      })\n    }), _jsxs(View, {\n      style: [styles.legend, {\n        backgroundColor: theme.colors.surface\n      }],\n      children: [_jsx(Text, {\n        style: [styles.legendTitle, {\n          color: theme.colors.text\n        }],\n        children: \"Deprem B\\xFCy\\xFCkl\\xFC\\u011F\\xFC\"\n      }), _jsxs(View, {\n        style: styles.legendItems,\n        children: [_jsxs(View, {\n          style: styles.legendItem,\n          children: [_jsx(View, {\n            style: [styles.legendColor, {\n              backgroundColor: '#34C759'\n            }]\n          }), _jsx(Text, {\n            style: [styles.legendText, {\n              color: theme.colors.text\n            }],\n            children: '< 3.0'\n          })]\n        }), _jsxs(View, {\n          style: styles.legendItem,\n          children: [_jsx(View, {\n            style: [styles.legendColor, {\n              backgroundColor: '#FFCC00'\n            }]\n          }), _jsx(Text, {\n            style: [styles.legendText, {\n              color: theme.colors.text\n            }],\n            children: \"3.0-4.0\"\n          })]\n        }), _jsxs(View, {\n          style: styles.legendItem,\n          children: [_jsx(View, {\n            style: [styles.legendColor, {\n              backgroundColor: '#FF9500'\n            }]\n          }), _jsx(Text, {\n            style: [styles.legendText, {\n              color: theme.colors.text\n            }],\n            children: \"4.0-5.0\"\n          })]\n        }), _jsxs(View, {\n          style: styles.legendItem,\n          children: [_jsx(View, {\n            style: [styles.legendColor, {\n              backgroundColor: '#FF3B30'\n            }]\n          }), _jsx(Text, {\n            style: [styles.legendText, {\n              color: theme.colors.text\n            }],\n            children: \"5.0-6.0\"\n          })]\n        }), _jsxs(View, {\n          style: styles.legendItem,\n          children: [_jsx(View, {\n            style: [styles.legendColor, {\n              backgroundColor: '#8E4EC6'\n            }]\n          }), _jsx(Text, {\n            style: [styles.legendText, {\n              color: theme.colors.text\n            }],\n            children: \"6.0+\"\n          })]\n        })]\n      })]\n    }), loading && _jsxs(View, {\n      style: styles.loadingOverlay,\n      children: [_jsx(ActivityIndicator, {\n        size: \"large\",\n        color: theme.colors.primary\n      }), _jsx(Text, {\n        style: [styles.loadingText, {\n          color: theme.colors.text\n        }],\n        children: \"Deprem verileri y\\xFCkleniyor...\"\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  headerRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8\n  },\n  updateTimeText: {\n    fontSize: 12,\n    fontWeight: '500'\n  },\n  refreshButton: {\n    padding: 8\n  },\n  mapContainer: {\n    flex: 1\n  },\n  mobileMapContainer: {\n    flex: 1\n  },\n  mobileHeader: {\n    padding: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#E5E5EA'\n  },\n  mobileHeaderText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  mobileSubText: {\n    fontSize: 14,\n    opacity: 0.7\n  },\n  earthquakeList: {\n    flex: 1,\n    padding: 10\n  },\n  earthquakeItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 15,\n    marginVertical: 5,\n    borderRadius: 10,\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22\n  },\n  magnitudeIndicator: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 15\n  },\n  magnitudeText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  earthquakeInfo: {\n    flex: 1\n  },\n  earthquakeLocation: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 3\n  },\n  earthquakeTime: {\n    fontSize: 14,\n    opacity: 0.7,\n    marginBottom: 2\n  },\n  earthquakeDepth: {\n    fontSize: 13,\n    opacity: 0.6\n  },\n  controls: {\n    position: 'absolute',\n    right: 20,\n    bottom: 120\n  },\n  controlButton: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84\n  },\n  legend: {\n    position: 'absolute',\n    bottom: 20,\n    left: 20,\n    padding: 15,\n    borderRadius: 10,\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84\n  },\n  legendTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  legendItems: {\n    flexDirection: 'column'\n  },\n  legendItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5\n  },\n  legendColor: {\n    width: 12,\n    height: 12,\n    borderRadius: 6,\n    marginRight: 8\n  },\n  legendText: {\n    fontSize: 12\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: 16\n  }\n});\nexport default MapScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","Alert","TouchableOpacity","ActivityIndicator","Platform","Ionicons","Location","useSafeAreaInsets","useTheme","useLanguage","earthquakeService","Header","jsx","_jsx","jsxs","_jsxs","MapContainer","TileLayer","Marker","Popup","L","OS","leaflet","require","document","link","createElement","rel","href","head","appendChild","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapScreen","_useLanguage","t","_useTheme","theme","insets","_useState","_useState2","_slicedToArray","userLocation","setUserLocation","_useState3","_useState4","earthquakes","setEarthquakes","_useState5","_useState6","loading","setLoading","_useState7","_useState8","mapCenter","setMapCenter","_useState9","_useState0","lastUpdateTime","setLastUpdateTime","requestLocationPermission","_ref","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","alert","error","console","apply","arguments","getUserLocation","_ref2","hasPermission","location","getCurrentPositionAsync","accuracy","Accuracy","High","userCoords","latitude","coords","longitude","fetchEarthquakes","_ref3","data","getLatestEarthquakes","Date","log","length","mockData","id","magnitude","depth","time","toISOString","color","showEarthquakeDetails","earthquake","_earthquake$latitude","_earthquake$longitude","formatTime","toLocaleString","year","month","day","hour","minute","second","detailMessage","region","source","type","quality","severity","toFixed","text","style","onPress","centerOnUser","interval","setInterval","clearInterval","getMarkerSize","getMarkerColor","getEarthquakeColor","createEarthquakeIcon","size","divIcon","html","className","iconSize","iconAnchor","styles","container","backgroundColor","colors","background","paddingTop","top","children","title","customRightComponent","headerRight","updateTimeText","secondaryText","toLocaleTimeString","refreshButton","name","icon","mapContainer","center","zoom","height","width","url","attribution","position","map","_earthquake$latitude2","_earthquake$longitude2","eventHandlers","click","minWidth","fontSize","fontWeight","marginBottom","marginTop","mobileMapContainer","mobileHeader","surface","mobileHeaderText","mobileSubText","earthquakeList","slice","earthquakeItem","magnitudeIndicator","magnitudeText","earthquakeInfo","earthquakeLocation","numberOfLines","earthquakeTime","earthquakeDepth","controls","controlButton","primary","onPrimary","legend","legendTitle","legendItems","legendItem","legendColor","legendText","loadingOverlay","loadingText","create","flex","flexDirection","alignItems","gap","padding","borderBottomWidth","borderBottomColor","opacity","marginVertical","borderRadius","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","justifyContent","marginRight","right","bottom","left"],"sources":["C:/Users/Yusuf Ali Aşkın/Downloads/Desktop/proje_afetnet/src/screens/MapScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Alert,\n  TouchableOpacity,\n  ActivityIndicator,\n  Platform,\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport * as Location from 'expo-location';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useTheme } from '../contexts/ThemeContext';\nimport { useLanguage } from '../contexts/LanguageContext';\nimport earthquakeService from '../services/earthquakeService';\nimport Header from '../components/Header';\n\n// Web için Leaflet import'ları - sadece web platformunda\nlet MapContainer, TileLayer, Marker, Popup, L;\nif (Platform.OS === 'web') {\n  const leaflet = require('react-leaflet');\n  MapContainer = leaflet.MapContainer;\n  TileLayer = leaflet.TileLayer;\n  Marker = leaflet.Marker;\n  Popup = leaflet.Popup;\n  L = require('leaflet');\n  \n  // CSS'i dinamik olarak yükle\n  if (typeof document !== 'undefined') {\n    const link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.css';\n    document.head.appendChild(link);\n  }\n  \n  // Leaflet marker icon'larını düzelt\n  if (L && L.Icon && L.Icon.Default) {\n    delete L.Icon.Default.prototype._getIconUrl;\n    L.Icon.Default.mergeOptions({\n      iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n      iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n      shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n    });\n  }\n}\n\nconst MapScreen = () => {\n  const { t } = useLanguage();\n  const { theme } = useTheme();\n  const insets = useSafeAreaInsets();\n\n  const [userLocation, setUserLocation] = useState(null);\n  const [earthquakes, setEarthquakes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [mapCenter, setMapCenter] = useState([39.9334, 32.8597]); // Ankara koordinatları\n  const [lastUpdateTime, setLastUpdateTime] = useState(null);\n\n  // Konum izni isteme\n  const requestLocationPermission = async () => {\n    try {\n      const { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert(\n          'Konum İzni',\n          'Harita özelliklerini kullanabilmek için konum iznine ihtiyacımız var.'\n        );\n        return false;\n      }\n      return true;\n    } catch (error) {\n      console.error('Konum izni hatası:', error);\n      return false;\n    }\n  };\n\n  // Kullanıcının konumunu al\n  const getUserLocation = async () => {\n    try {\n      const hasPermission = await requestLocationPermission();\n      if (!hasPermission) return;\n\n      const location = await Location.getCurrentPositionAsync({\n        accuracy: Location.Accuracy.High,\n      });\n\n      const userCoords = {\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n      };\n\n      setUserLocation(userCoords);\n      setMapCenter([userCoords.latitude, userCoords.longitude]);\n    } catch (error) {\n      console.error('Konum alma hatası:', error);\n      Alert.alert('Hata', 'Konum alınamadı. Lütfen tekrar deneyin.');\n    }\n  };\n\n  // Deprem verilerini çek\n  const fetchEarthquakes = async () => {\n    try {\n      setLoading(true);\n      const data = await earthquakeService.getLatestEarthquakes();\n      setEarthquakes(data);\n      setLastUpdateTime(new Date());\n      console.log(`Deprem verileri güncellendi: ${data.length} deprem bulundu`);\n    } catch (error) {\n      console.error('Deprem verileri alınamadı:', error);\n      // Fallback mock data\n      const mockData = [\n        {\n          id: '1',\n          magnitude: 4.2,\n          location: 'İstanbul',\n          latitude: 41.0082,\n          longitude: 28.9784,\n          depth: 10,\n          time: new Date().toISOString(),\n          color: '#FFCC00'\n        },\n        {\n          id: '2',\n          magnitude: 3.1,\n          location: 'Ankara',\n          latitude: 39.9334,\n          longitude: 32.8597,\n          depth: 15,\n          time: new Date().toISOString(),\n          color: '#34C759'\n        }\n      ];\n      setEarthquakes(mockData);\n      setLastUpdateTime(new Date());\n      Alert.alert('Bilgi', 'Deprem verileri yüklenemedi, örnek veriler gösteriliyor.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Deprem detaylarını göster\n  const showEarthquakeDetails = (earthquake) => {\n    const formatTime = (time) => {\n      return new Date(time).toLocaleString('tr-TR', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n    };\n\n    let detailMessage = `Konum: ${earthquake.location || earthquake.region || 'Bilinmiyor'}\\n`;\n    detailMessage += `Büyüklük: ${earthquake.magnitude}\\n`;\n    detailMessage += `Derinlik: ${earthquake.depth} km\\n`;\n    detailMessage += `Zaman: ${formatTime(earthquake.time)}\\n`;\n    \n    // Kandilli API'sinden gelen ek bilgiler\n    if (earthquake.source) {\n      detailMessage += `Kaynak: ${earthquake.source}\\n`;\n    }\n    if (earthquake.type) {\n      detailMessage += `Tip: ${earthquake.type}\\n`;\n    }\n    if (earthquake.quality) {\n      detailMessage += `Kalite: ${earthquake.quality}\\n`;\n    }\n    if (earthquake.severity) {\n      detailMessage += `Şiddet: ${earthquake.severity}\\n`;\n    }\n    \n    // Koordinat bilgileri\n    detailMessage += `Koordinatlar: ${earthquake.latitude?.toFixed(4)}, ${earthquake.longitude?.toFixed(4)}`;\n\n    Alert.alert(\n      `Deprem Detayları - M${earthquake.magnitude}`,\n      detailMessage,\n      [\n        { text: 'Tamam', style: 'default' },\n        {\n          text: 'Konuma Git',\n          onPress: () => setMapCenter([earthquake.latitude, earthquake.longitude])\n        }\n      ]\n    );\n  };\n\n  // Kullanıcı konumuna git\n  const centerOnUser = () => {\n    if (userLocation) {\n      setMapCenter([userLocation.latitude, userLocation.longitude]);\n    } else {\n      getUserLocation();\n    }\n  };\n\n  // Component mount edildiğinde\n  useEffect(() => {\n    getUserLocation();\n    fetchEarthquakes();\n\n    // Kandilli API için daha sık güncelleme (30 saniye)\n    // Kandilli Rasathanesi verileri daha güncel olduğu için\n    const interval = setInterval(() => {\n      console.log('Otomatik veri güncelleme başlatılıyor...');\n      fetchEarthquakes();\n    }, 30000); // 30 saniye\n\n    return () => {\n      console.log('Otomatik güncelleme temizleniyor...');\n      clearInterval(interval);\n    };\n  }, []);\n\n  // Deprem büyüklüğüne göre marker boyutu\n  const getMarkerSize = (magnitude) => {\n    if (magnitude < 3) return 20;\n    if (magnitude < 4) return 25;\n    if (magnitude < 5) return 30;\n    if (magnitude < 6) return 35;\n    return 40;\n  };\n\n  // Deprem büyüklüğüne göre renk\n  const getMarkerColor = (magnitude) => {\n    if (magnitude < 3) return '#34C759'; // Yeşil\n    if (magnitude < 4) return '#FFCC00'; // Sarı\n    if (magnitude < 5) return '#FF9500'; // Turuncu\n    if (magnitude < 6) return '#FF3B30'; // Kırmızı\n    return '#8E4EC6'; // Mor\n  };\n\n  // Mobil görünüm için deprem rengi (getMarkerColor ile aynı)\n  const getEarthquakeColor = (magnitude) => {\n    return getMarkerColor(magnitude);\n  };\n\n  // Özel deprem marker'ı oluştur\n  const createEarthquakeIcon = (earthquake) => {\n    const size = getMarkerSize(earthquake.magnitude);\n    const color = earthquake.color || getMarkerColor(earthquake.magnitude);\n    \n    return L.divIcon({\n      html: `<div style=\"\n        width: ${size}px;\n        height: ${size}px;\n        background-color: ${color};\n        border: 2px solid white;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: ${size * 0.4}px;\n        font-weight: bold;\n        color: white;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n      \">${earthquake.magnitude}</div>`,\n      className: 'earthquake-marker',\n      iconSize: [size, size],\n      iconAnchor: [size / 2, size / 2]\n    });\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.colors.background, paddingTop: insets.top }]}>\n      {/* Header */}\n      <Header \n        title=\"Deprem Haritası\"\n        customRightComponent={\n          <View style={styles.headerRight}>\n            {lastUpdateTime && (\n              <Text style={[styles.updateTimeText, { color: theme.colors.secondaryText }]}>\n                {lastUpdateTime.toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })}\n              </Text>\n            )}\n            <TouchableOpacity onPress={fetchEarthquakes} style={styles.refreshButton}>\n              <Ionicons name=\"refresh\" size={24} color={theme.colors.icon} />\n            </TouchableOpacity>\n          </View>\n        }\n      />\n\n      {/* Map Container */}\n      <View style={styles.mapContainer}>\n        {Platform.OS === 'web' ? (\n          <MapContainer\n            center={mapCenter}\n            zoom={7}\n            style={{ height: '100%', width: '100%' }}\n            key={`${mapCenter[0]}-${mapCenter[1]}`}\n          >\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            \n            {/* Kullanıcı konumu */}\n            {userLocation && (\n              <Marker\n                position={[userLocation.latitude, userLocation.longitude]}\n                icon={L.icon({\n                  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n                  iconSize: [25, 41],\n                  iconAnchor: [12, 41]\n                })}\n              >\n                <Popup>Konumunuz</Popup>\n              </Marker>\n            )}\n            \n            {/* Deprem marker'ları */}\n            {earthquakes.map((earthquake) => (\n              <Marker\n                key={earthquake.id}\n                position={[earthquake.latitude, earthquake.longitude]}\n                icon={createEarthquakeIcon(earthquake)}\n                eventHandlers={{\n                  click: () => showEarthquakeDetails(earthquake)\n                }}\n              >\n                <Popup>\n                  <div style={{ minWidth: '250px', fontSize: '14px' }}>\n                    <div style={{ fontWeight: 'bold', fontSize: '16px', marginBottom: '8px', color: '#d32f2f' }}>\n                      M{earthquake.magnitude} Deprem\n                    </div>\n                    <div style={{ marginBottom: '4px' }}>\n                      <strong>Konum:</strong> {earthquake.location || earthquake.region || 'Bilinmiyor'}\n                    </div>\n                    <div style={{ marginBottom: '4px' }}>\n                      <strong>Derinlik:</strong> {earthquake.depth} km\n                    </div>\n                    <div style={{ marginBottom: '4px' }}>\n                      <strong>Zaman:</strong> {new Date(earthquake.time).toLocaleString('tr-TR', {\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit',\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        second: '2-digit'\n                      })}\n                    </div>\n                    {earthquake.source && (\n                      <div style={{ marginBottom: '4px' }}>\n                        <strong>Kaynak:</strong> {earthquake.source}\n                      </div>\n                    )}\n                    {earthquake.type && (\n                      <div style={{ marginBottom: '4px' }}>\n                        <strong>Tip:</strong> {earthquake.type}\n                      </div>\n                    )}\n                    {earthquake.quality && (\n                      <div style={{ marginBottom: '4px' }}>\n                        <strong>Kalite:</strong> {earthquake.quality}\n                      </div>\n                    )}\n                    {earthquake.severity && (\n                      <div style={{ marginBottom: '4px' }}>\n                        <strong>Şiddet:</strong> {earthquake.severity}\n                      </div>\n                    )}\n                    <div style={{ marginTop: '8px', fontSize: '12px', color: '#666' }}>\n                      <strong>Koordinatlar:</strong> {earthquake.latitude?.toFixed(4)}, {earthquake.longitude?.toFixed(4)}\n                    </div>\n                  </div>\n                </Popup>\n              </Marker>\n            ))}\n          </MapContainer>\n        ) : (\n          <View style={styles.mobileMapContainer}>\n            <View style={[styles.mobileHeader, { backgroundColor: theme.colors.surface }]}>\n              <Text style={[styles.mobileHeaderText, { color: theme.colors.text }]}>\n                Yakın Depremler ({earthquakes.length})\n              </Text>\n              <Text style={[styles.mobileSubText, { color: theme.colors.text }]}>\n                Deprem konumları listesi\n              </Text>\n            </View>\n            <View style={styles.earthquakeList}>\n              {earthquakes.slice(0, 10).map((earthquake) => (\n                <TouchableOpacity\n                  key={earthquake.id}\n                  style={[styles.earthquakeItem, { backgroundColor: theme.colors.background }]}\n                  onPress={() => showEarthquakeDetails(earthquake)}\n                >\n                  <View style={[\n                    styles.magnitudeIndicator,\n                    { backgroundColor: getEarthquakeColor(earthquake.magnitude) }\n                  ]}>\n                    <Text style={styles.magnitudeText}>{earthquake.magnitude}</Text>\n                  </View>\n                  <View style={styles.earthquakeInfo}>\n                    <Text style={[styles.earthquakeLocation, { color: theme.colors.text }]} numberOfLines={1}>\n                      {earthquake.location || earthquake.region || 'Bilinmiyor'}\n                    </Text>\n                    <Text style={[styles.earthquakeTime, { color: theme.colors.text }]}>\n                      {new Date(earthquake.time).toLocaleString('tr-TR', {\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </Text>\n                    <Text style={[styles.earthquakeDepth, { color: theme.colors.text }]}>\n                      Derinlik: {earthquake.depth} km {earthquake.source ? `• ${earthquake.source}` : ''}\n                    </Text>\n                  </View>\n                  <Ionicons name=\"chevron-forward\" size={20} color={theme.colors.text} />\n                </TouchableOpacity>\n              ))}\n            </View>\n          </View>\n        )}\n      </View>\n\n      {/* Controls */}\n      <View style={styles.controls}>\n        <TouchableOpacity\n          style={[styles.controlButton, { backgroundColor: theme.colors.primary }]}\n          onPress={centerOnUser}\n        >\n          <Ionicons name=\"locate\" size={24} color={theme.colors.onPrimary} />\n        </TouchableOpacity>\n      </View>\n\n      {/* Legend */}\n      <View style={[styles.legend, { backgroundColor: theme.colors.surface }]}>\n        <Text style={[styles.legendTitle, { color: theme.colors.text }]}>Deprem Büyüklüğü</Text>\n        <View style={styles.legendItems}>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendColor, { backgroundColor: '#34C759' }]} />\n            <Text style={[styles.legendText, { color: theme.colors.text }]}>{'< 3.0'}</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendColor, { backgroundColor: '#FFCC00' }]} />\n            <Text style={[styles.legendText, { color: theme.colors.text }]}>3.0-4.0</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendColor, { backgroundColor: '#FF9500' }]} />\n            <Text style={[styles.legendText, { color: theme.colors.text }]}>4.0-5.0</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendColor, { backgroundColor: '#FF3B30' }]} />\n            <Text style={[styles.legendText, { color: theme.colors.text }]}>5.0-6.0</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendColor, { backgroundColor: '#8E4EC6' }]} />\n            <Text style={[styles.legendText, { color: theme.colors.text }]}>6.0+</Text>\n          </View>\n        </View>\n      </View>\n\n      {/* Loading Overlay */}\n      {loading && (\n        <View style={styles.loadingOverlay}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={[styles.loadingText, { color: theme.colors.text }]}>\n            Deprem verileri yükleniyor...\n          </Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n\n  headerRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  updateTimeText: {\n    fontSize: 12,\n    fontWeight: '500',\n  },\n  refreshButton: {\n    padding: 8,\n  },\n  mapContainer: {\n    flex: 1,\n  },\n  mobileMapContainer: {\n    flex: 1,\n  },\n  mobileHeader: {\n    padding: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#E5E5EA',\n  },\n  mobileHeaderText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  mobileSubText: {\n    fontSize: 14,\n    opacity: 0.7,\n  },\n  earthquakeList: {\n    flex: 1,\n    padding: 10,\n  },\n  earthquakeItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 15,\n    marginVertical: 5,\n    borderRadius: 10,\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n  },\n  magnitudeIndicator: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 15,\n  },\n  magnitudeText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  earthquakeInfo: {\n    flex: 1,\n  },\n  earthquakeLocation: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 3,\n  },\n  earthquakeTime: {\n    fontSize: 14,\n    opacity: 0.7,\n    marginBottom: 2,\n  },\n  earthquakeDepth: {\n    fontSize: 13,\n    opacity: 0.6,\n  },\n  controls: {\n    position: 'absolute',\n    right: 20,\n    bottom: 120,\n  },\n  controlButton: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  legend: {\n    position: 'absolute',\n    bottom: 20,\n    left: 20,\n    padding: 15,\n    borderRadius: 10,\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  legendTitle: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  legendItems: {\n    flexDirection: 'column',\n  },\n  legendItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,\n  },\n  legendColor: {\n    width: 12,\n    height: 12,\n    borderRadius: 6,\n    marginRight: 8,\n  },\n  legendText: {\n    fontSize: 12,\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: 16,\n  },\n});\n\nexport default MapScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}