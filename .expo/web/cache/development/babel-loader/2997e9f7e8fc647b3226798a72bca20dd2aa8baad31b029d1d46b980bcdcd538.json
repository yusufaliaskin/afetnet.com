{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar AuthContext = createContext();\nexport var useAuth = function useAuth() {\n  var context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var API_BASE_URL = 'http://localhost:3001/api';\n  var apiClient = axios.create({\n    baseURL: API_BASE_URL,\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  var getStoredToken = function getStoredToken() {\n    try {\n      return localStorage.getItem('authToken');\n    } catch (error) {\n      return null;\n    }\n  };\n  var setStoredToken = function setStoredToken(token) {\n    try {\n      if (token) {\n        localStorage.setItem('authToken', token);\n        apiClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } else {\n        localStorage.removeItem('authToken');\n        delete apiClient.defaults.headers.common['Authorization'];\n      }\n    } catch (error) {\n      console.error('Token storage error:', error);\n    }\n  };\n  var register = function () {\n    var _ref2 = _asyncToGenerator(function* (userData) {\n      try {\n        setLoading(true);\n        setError(null);\n        var response = yield apiClient.post('/auth/register', userData);\n        if (response.data.success) {\n          var _response$data$data = response.data.data,\n            _user = _response$data$data.user,\n            token = _response$data$data.token;\n          setUser(_user);\n          setStoredToken(token);\n          return {\n            success: true,\n            user: _user\n          };\n        } else {\n          throw new Error(response.data.error || 'Kayıt işlemi başarısız');\n        }\n      } catch (error) {\n        var _error$response, _error$response$data;\n        var errorMessage = ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.error) || error.message || 'Kayıt işlemi başarısız';\n        setError(errorMessage);\n        return {\n          success: false,\n          error: errorMessage\n        };\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function register(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var login = function () {\n    var _ref3 = _asyncToGenerator(function* (email, password) {\n      try {\n        setLoading(true);\n        setError(null);\n        var response = yield apiClient.post('/auth/login', {\n          email: email,\n          password: password\n        });\n        if (response.data.success) {\n          var _response$data$data2 = response.data.data,\n            _user2 = _response$data$data2.user,\n            token = _response$data$data2.token;\n          setUser(_user2);\n          setStoredToken(token);\n          return {\n            success: true,\n            user: _user2\n          };\n        } else {\n          throw new Error(response.data.error || 'Giriş işlemi başarısız');\n        }\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        var errorMessage = ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || error.message || 'Giriş işlemi başarısız';\n        setError(errorMessage);\n        return {\n          success: false,\n          error: errorMessage\n        };\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function login(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        yield apiClient.post('/auth/logout');\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        setUser(null);\n        setStoredToken(null);\n        setError(null);\n        setLoading(false);\n      }\n    });\n    return function logout() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var getUserProfile = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        var response = yield apiClient.get('/users/profile');\n        if (response.data.success) {\n          setUser(response.data.data.user);\n          return response.data.data;\n        }\n      } catch (error) {\n        var _error$response3;\n        console.error('Get profile error:', error);\n        if (((_error$response3 = error.response) == null ? void 0 : _error$response3.status) === 401) {\n          logout();\n        }\n      }\n    });\n    return function getUserProfile() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    var initAuth = function () {\n      var _ref6 = _asyncToGenerator(function* () {\n        var token = getStoredToken();\n        if (token) {\n          apiClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          yield getUserProfile();\n        }\n        setLoading(false);\n      });\n      return function initAuth() {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n    initAuth();\n  }, []);\n  var clearError = function clearError() {\n    setError(null);\n  };\n  var isAdmin = function isAdmin() {\n    return (user == null ? void 0 : user.role) === 'admin' && (user == null ? void 0 : user.status) === 'active';\n  };\n  var isAuthor = function isAuthor() {\n    return ((user == null ? void 0 : user.role) === 'author' || (user == null ? void 0 : user.role) === 'admin') && (user == null ? void 0 : user.status) === 'active';\n  };\n  var hasPermission = function hasPermission(permission) {\n    var _user$permissions;\n    return (user == null ? void 0 : (_user$permissions = user.permissions) == null ? void 0 : _user$permissions[permission]) === true;\n  };\n  var canCreateNews = function canCreateNews() {\n    return hasPermission('can_create_news');\n  };\n  var canEditAllNews = function canEditAllNews() {\n    return hasPermission('can_edit_all_news');\n  };\n  var canManageUsers = function canManageUsers() {\n    return hasPermission('can_manage_users');\n  };\n  var canApproveAuthors = function canApproveAuthors() {\n    return hasPermission('can_approve_authors');\n  };\n  var canModerateComments = function canModerateComments() {\n    return hasPermission('can_moderate_comments');\n  };\n  var value = {\n    user: user,\n    loading: loading,\n    error: error,\n    register: register,\n    login: login,\n    logout: logout,\n    getUserProfile: getUserProfile,\n    clearError: clearError,\n    isAuthenticated: !!user,\n    isAdmin: isAdmin,\n    isAuthor: isAuthor,\n    hasPermission: hasPermission,\n    canCreateNews: canCreateNews,\n    canEditAllNews: canEditAllNews,\n    canManageUsers: canManageUsers,\n    canApproveAuthors: canApproveAuthors,\n    canModerateComments: canModerateComments\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n};\nexport default AuthContext;","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","jsx","_jsx","AuthContext","useAuth","context","Error","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","API_BASE_URL","apiClient","create","baseURL","timeout","headers","getStoredToken","localStorage","getItem","setStoredToken","token","setItem","defaults","common","removeItem","console","register","_ref2","_asyncToGenerator","userData","response","post","data","success","_response$data$data","_error$response","_error$response$data","errorMessage","message","_x","apply","arguments","login","_ref3","email","password","_response$data$data2","_error$response2","_error$response2$data","_x2","_x3","logout","_ref4","getUserProfile","_ref5","get","_error$response3","status","initAuth","_ref6","clearError","isAdmin","role","isAuthor","hasPermission","permission","_user$permissions","permissions","canCreateNews","canEditAllNews","canManageUsers","canApproveAuthors","canModerateComments","value","isAuthenticated","Provider"],"sources":["C:/Users/Yusuf Ali Aşkın/Desktop/proje_afetnet/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // API base URL\n  const API_BASE_URL = 'http://localhost:3001/api';\n\n  // Axios instance\n  const apiClient = axios.create({\n    baseURL: API_BASE_URL,\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n\n  // Token'ı localStorage'dan al\n  const getStoredToken = () => {\n    try {\n      return localStorage.getItem('authToken');\n    } catch (error) {\n      return null;\n    }\n  };\n\n  // Token'ı localStorage'a kaydet\n  const setStoredToken = (token) => {\n    try {\n      if (token) {\n        localStorage.setItem('authToken', token);\n        apiClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } else {\n        localStorage.removeItem('authToken');\n        delete apiClient.defaults.headers.common['Authorization'];\n      }\n    } catch (error) {\n      console.error('Token storage error:', error);\n    }\n  };\n\n  // Kullanıcı kaydı\n  const register = async (userData) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await apiClient.post('/auth/register', userData);\n      \n      if (response.data.success) {\n        const { user, token } = response.data.data;\n        setUser(user);\n        setStoredToken(token);\n        return { success: true, user };\n      } else {\n        throw new Error(response.data.error || 'Kayıt işlemi başarısız');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Kayıt işlemi başarısız';\n      setError(errorMessage);\n      return { success: false, error: errorMessage };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Kullanıcı girişi\n  const login = async (email, password) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await apiClient.post('/auth/login', {\n        email,\n        password,\n      });\n      \n      if (response.data.success) {\n        const { user, token } = response.data.data;\n        setUser(user);\n        setStoredToken(token);\n        return { success: true, user };\n      } else {\n        throw new Error(response.data.error || 'Giriş işlemi başarısız');\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.error || error.message || 'Giriş işlemi başarısız';\n      setError(errorMessage);\n      return { success: false, error: errorMessage };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Kullanıcı çıkışı\n  const logout = async () => {\n    try {\n      setLoading(true);\n      \n      // Backend'e logout isteği gönder\n      await apiClient.post('/auth/logout');\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      // Her durumda local state'i temizle\n      setUser(null);\n      setStoredToken(null);\n      setError(null);\n      setLoading(false);\n    }\n  };\n\n  // Kullanıcı profilini getir\n  const getUserProfile = async () => {\n    try {\n      const response = await apiClient.get('/users/profile');\n      \n      if (response.data.success) {\n        setUser(response.data.data.user);\n        return response.data.data;\n      }\n    } catch (error) {\n      console.error('Get profile error:', error);\n      // Token geçersizse logout yap\n      if (error.response?.status === 401) {\n        logout();\n      }\n    }\n  };\n\n  // Uygulama başlatıldığında token kontrolü\n  useEffect(() => {\n    const initAuth = async () => {\n      const token = getStoredToken();\n      \n      if (token) {\n        apiClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n        await getUserProfile();\n      }\n      \n      setLoading(false);\n    };\n\n    initAuth();\n  }, []);\n\n  // Error'ı temizle\n  const clearError = () => {\n    setError(null);\n  };\n\n  // Rol kontrol fonksiyonları\n  const isAdmin = () => {\n    return user?.role === 'admin' && user?.status === 'active';\n  };\n\n  const isAuthor = () => {\n    return (user?.role === 'author' || user?.role === 'admin') && user?.status === 'active';\n  };\n\n  const hasPermission = (permission) => {\n    return user?.permissions?.[permission] === true;\n  };\n\n  const canCreateNews = () => {\n    return hasPermission('can_create_news');\n  };\n\n  const canEditAllNews = () => {\n    return hasPermission('can_edit_all_news');\n  };\n\n  const canManageUsers = () => {\n    return hasPermission('can_manage_users');\n  };\n\n  const canApproveAuthors = () => {\n    return hasPermission('can_approve_authors');\n  };\n\n  const canModerateComments = () => {\n    return hasPermission('can_moderate_comments');\n  };\n\n  const value = {\n    user,\n    loading,\n    error,\n    register,\n    login,\n    logout,\n    getUserProfile,\n    clearError,\n    isAuthenticated: !!user,\n    // Rol kontrol fonksiyonları\n    isAdmin,\n    isAuthor,\n    hasPermission,\n    canCreateNews,\n    canEditAllNews,\n    canManageUsers,\n    canApproveAuthors,\n    canModerateComments,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}